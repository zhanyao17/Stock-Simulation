            // Get purchaase info from broker and update to stock profile
            let timeout_purchasing_monitor = Duration::from_secs(5); // Adjust as needed
            loop{
                match ex_pur_recv.receiver().recv_timeout(timeout_purchasing_monitor) {
                    Ok (ul)=>{
                        match ul{
                            ConsumerMessage::Delivery(delivery)=>{
                                let body = String::from_utf8_lossy(&delivery.body);
                                println!("**1");
                                let user_list: User= serde_json::from_str(&body).expect("Failed to desialize");
                                StockProfile::add_stock_profile(user_list.stock_name, 0,user_list.num_stock);
                                ex_pur_recv.ack(delivery)?;
                            }
                            other =>{
                                println!("Exchange ended here{:?}",other);
                                break;
                            }
                        }
                    }
                    Err(_)=>{
                        break;
                    }
                }
            }